<div fxLayout="column" style="height: 100%">
  <mat-checkbox [value]="noGpu" (change)="noGpu = !noGpu">Disable GPU Scrolling</mat-checkbox>
  <mat-checkbox [value]="plainColumns" (change)="togglePlainColumns()">Use plain columns</mat-checkbox>
  <!-- <h3>Hide: </h3>
  <mat-button-toggle-group *ngIf="negTable" multiple>
    <mat-button-toggle *ngFor="let c of negTable._store.allTable"
                      color="primary"
                      [value]="c" [checked]="hideColumns.indexOf(c.id) > -1"
                      (change)="toggleColumn(hideColumns, c.id)">{{c.label}}</mat-button-toggle>
  </mat-button-toggle-group> -->
  <mat-form-field fxFlex="nogrow" style="width:200px">
    <mat-select [value]="collectionSize" (selectionChange)="collectionSizeChange($event.value)">
      <mat-option [value]="10">10</mat-option>
      <mat-option [value]="100">100</mat-option>
      <mat-option [value]="500">500</mat-option>
      <mat-option [value]="1000">1000</mat-option>
      <mat-option [value]="10000">10000</mat-option>
      <mat-option [value]="50000">50000</mat-option>
      <mat-option [value]="100000">100000</mat-option>
    </mat-select>
  </mat-form-field>
  <div style="flex: 1 1 100%; display: flex; min-height: 0px">
    <neg-table #negTbl *ngIf="showTable" class="neg-table-cell-ellipsis neg-table-header-cell-ellipsis" style="height: 100%; width: 100%;"
               [dataSource]="dataSource" [columns]="columns"
               vScrollAuto [noGpu]="noGpu"
               [hideColumns]="hideColumns"
               blockUi
               matSort
               cellTooltip
               matCheckboxSelection="selection">

      <div *negTableCellTypeDef="'accountBalance'; value as value; col as col; row as row"
          [parentNgClass]="value < 0 ? col.type.data.neg : col.type.data.pos">{{ value | currency:col.type.data.meta.currency(row):'symbol':col.type.data.format }}</div>
      <div *negTableCellTypeDef="'flagAndCountry'; col as col; row as row">{{ col.type.data.flagAndCountry(row) }}</div>
      <div *negTableCellTypeDef="'ratings'; value as value">
        {{ value >= 1 ? '★' : '☆' }}
        {{ value >= 2 ? '★' : '☆' }}
        {{ value >= 3 ? '★' : '☆' }}
        {{ value >= 4 ? '★' : '☆' }}
        {{ value === 5 ? '★' : '☆' }}
      </div>

    </neg-table>
  </div>
</div>
